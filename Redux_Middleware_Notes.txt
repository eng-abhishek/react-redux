рдиреАрдЪреЗ рдореИрдВ React Redux Middleware рдХреЛ рдмрд╣реБрдд рдЖрд╕рд╛рди рднрд╛рд╖рд╛ рдФрд░ examples рдХреЗ рд╕рд╛рде рд╕рдордЭрд╛рддрд╛ рд╣реВрдБ тАФ
Cake Shop example рднреА рд╢рд╛рдорд┐рд▓ рд╣реИ рддрд╛рдХрд┐ рдЖрдкрдХреЛ concept clear рд╣реЛ рдЬрд╛рдПред

ЁЯза React Redux Middleware рдХреНрдпрд╛ рд╣реЛрддрд╛ рд╣реИ?

Redux рдореЗрдВ state update рдХрд╛ flow рд╣реЛрддрд╛ рд╣реИ:

Action тЖТ Reducer тЖТ Store


рд▓реЗрдХрд┐рди рдХрднреА-рдХрднреА рд╣рдореЗрдВ рдЬрд░реВрд░рдд рд╣реЛрддреА рд╣реИ рдХрд┐ reducer рддрдХ рдЬрд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ:

action рдХреЛ рд░реЛрдХ рд╕рдХреЗрдВ

action рдХреЛ рдмрджрд▓ рд╕рдХреЗрдВ

async рдХрд╛рдо рдХрд░рд╛ рд╕рдХреЗрдВ (API call)

logs print рдХрд░ рд╕рдХреЗрдВ

unauthorized action block рдХрд░ рд╕рдХреЗрдВ

рдпрд╣ рд╕рдм рдХрд░рдиреЗ рдХреЗ рд▓рд┐рдП рдмреАрдЪ рдореЗрдВ рдПрдХ middleware layer рд╣реЛрддреА рд╣реИред

Flow this:

Action тЖТ тЭдя╕П Middleware тЖТ Reducer тЖТ Store


рдорддрд▓рдм middleware рдПрдХ manager рд╣реИ рдЬреЛ рд╣рд░ action рдХреЛ reducer рддрдХ рдЬрд╛рдиреЗ рд╕реЗ рдкрд╣рд▓реЗ intercept рдХрд░рддрд╛ рд╣реИред

ЁЯН░ Cake Shop Example (Middleware Logic)

рдорд╛рд▓ рд▓реЛ рдПрдХ cake shop рд╣реИ:

Customer рдмреЛрд▓рддрд╛ рд╣реИ: тАЬ1 cake рдЪрд╛рд╣рд┐рдПтАЭ тЖТ Action

Kitchen cake рдШрдЯрд╛ рджреЗрддрд╛ рд╣реИ тЖТ Reducer

Shop рдХрд╛ manager рд╣рд░ order рдХреЛ рдЪреЗрдХ рдХрд░рддрд╛ рд╣реИ тЖТ Middleware

Manager (middleware) рдЪреЗрдХ рдХрд░ рд╕рдХрддрд╛ рд╣реИ:

customer рдиреЗ рдкреИрд╕реЗ рджрд┐рдП?

рдХреЛрдИ fraud рддреЛ рдирд╣реАрдВ?

order рдХреЛ log рдХрд░реЛ

рдЕрдЧрд░ stock 0 рд╣реИ рддреЛ action рдХреЛ рдЖрдЧреЗ рдордд рдЬрд╛рдиреЗ рджреЛ

рдпрд╣реА Redux рдореЗрдВ middleware рдХрд░рддрд╛ рд╣реИред

тнР Redux Middleware рдХреИрд╕реЗ рд▓рд┐рдЦрддреЗ рд╣реИрдВ? (Simple Example)
ЁЯФ╣ A basic custom logger middleware
const loggerMiddleware = store => next => action => {
  console.log("Dispatching Action:", action);
  let result = next(action); // reducer рдХреЛ рднреЗрдЬрддрд╛ рд╣реИ
  console.log("Updated State:", store.getState());
  return result;
};


рдпрд╣ рд╣рд░ action рдХрд╛ log middleware рдореЗрдВ print рдХрд░реЗрдЧрд╛ред

ЁЯз╡ Middleware рдХреИрд╕реЗ рдХрд╛рдо рдХрд░рддрд╛ рд╣реИ (Step-by-Step):
1я╕ПтГг Action dispatch рд╣реБрдЖ
2я╕ПтГг Middleware action рдХреЛ receive рдХрд░рддрд╛ рд╣реИ
3я╕ПтГг Middleware decide рдХрд░рддрд╛ рд╣реИ:

action рдЖрдЧреЗ рднреЗрдЬрдирд╛

action рдХреЛ modify рдХрд░рдирд╛

async API call рдХрд░рдирд╛

action рдХреЛ рд░реЛрдХрдирд╛

4я╕ПтГг Middleware action рдХреЛ reducer рдХреЛ рднреЗрдЬрддрд╛ рд╣реИ (next(action))
5я╕ПтГг Reducer state update рдХрд░рддрд╛ рд╣реИ
тнР рд╡рд╛рд╕реНрддрд╡рд┐рдХ рджреБрдирд┐рдпрд╛ рдХрд╛ рд╕рдмрд╕реЗ рдЬрд╝реНрдпрд╛рджрд╛ рдЗрд╕реНрддреЗрдорд╛рд▓ рд╣реЛрдиреЗ рд╡рд╛рд▓рд╛ middleware: redux-thunk

рдХреНрдпреЛрдВ?
рдХреНрдпреЛрдВрдХрд┐ рдпрд╣ async action (API calling) allow рдХрд░рддрд╛ рд╣реИред

ЁЯзБ Cake shop example with async API

Customer рдиреЗ рдХрд╣рд╛:

ЁЯСЙ "Fresh cake рдХрд┐рддрдиреЗ available рд╣реИрдВ, kitchen рд╕реЗ рдкреВрдЫреЛ"

рдпрд╣ async рдХрд╛рдо рд╣реИ тЖТ API call

Thunk Example:

export const fetchCakes = () => {
  return function (dispatch) {
    dispatch({ type: "FETCH_CAKES_REQUEST" });

    fetch("https://api.myshop.com/cakes")
      .then(res => res.json())
      .then(data => {
        dispatch({ type: "FETCH_CAKES_SUCCESS", payload: data });
      })
      .catch(err => {
        dispatch({ type: "FETCH_CAKES_FAILURE", error: err });
      });
  };
};

ЁЯФе middleware Redux рдореЗрдВ рдХреИрд╕реЗ add рдХрд░рддреЗ рд╣реИрдВ?
import { createStore, applyMiddleware } from "redux";
import thunk from "redux-thunk";
import logger from "./middleware/logger";

const store = createStore(
     rootReducer,
     applyMiddleware(thunk, logger)
);


рдЕрдм рдЖрдкрдХреЗ рд╕рднреА action рдкрд╣рд▓реЗ middleware рд╕реЗ рдЧреБрдЬрд░реЗрдВрдЧреЗред

ЁЯУМ Popular Redux Middlewares
Middleware	Use
redux-thunk	async logic (API calls)
redux-saga	complex async logic with generators
redux-logger	console logging actions
redux-promise	promise-based actions
Custom middleware	authentication/logging/analytics
ЁЯОп Short Summary

Middleware = Action рдФрд░ Reducer рдХреЗ рдмреАрдЪ рдХрд╛ intercept layer

Purpose = async API calls, logging, validation, authentication, modification

redux-thunk тЖТ рд╕рдмрд╕реЗ simple async middleware

redux-saga тЖТ рднрд╛рд░реА projects рдХреЗ рд▓рд┐рдП

Middleware рдЖрдкрдХреЗ app рдореЗрдВ action flow рдХреЛ control рдХрд░рддрд╛ рд╣реИ